context: bee

namespaces:
  $NAMESPACE:
    protected: false

helmRepos:
  ethersphere: "https://ethersphere.github.io/helm"

appsTemplates:
  bee: &beeTemplate
    name: bee
    namespace: $NAMESPACE
    chart: "ethersphere/bee"
    # chart: "../../helm/charts/bee"
    version: "0.13.0"
    enabled: true
    valuesFiles:
      - "../helm-values/bee.yaml"
    wait: false
    timeout: 1800

apps:
  geth:
    name: geth
    namespace: $NAMESPACE
    chart: "ethersphere/geth-swap"
    version: "0.3.9"
    description: "Geth"
    priority: -15
    enabled: true
    valuesFiles:
      - "../helm-values/geth.yaml"
    wait: true
  bootnode:
    <<: *beeTemplate
    name: bootnode
    description: "Bootnode Nodes"
    priority: -10
    set:
      replicaCount: $BOOTNODE_REPLICA
      beeConfig.bootnode-mode: true
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  full-0:
    <<: *beeTemplate
    name: full-0
    description: "Full Nodes"
    enabled: true
    priority: -5
    set:
      replicaCount: $FULL_REPLICA
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  full-1:
    <<: *beeTemplate
    name: full-1
    description: "Full Nodes"
    enabled: true
    priority: -5
    set:
      replicaCount: $FULL_REPLICA
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  full-2:
    <<: *beeTemplate
    name: full-2
    description: "Full Nodes"
    enabled: true
    priority: -5
    set:
      replicaCount: $FULL_REPLICA
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  full-3:
    <<: *beeTemplate
    name: full-3
    description: "Full Nodes"
    enabled: true
    priority: -5
    set:
      replicaCount: $FULL_REPLICA
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  full-4:
    <<: *beeTemplate
    name: full-4
    description: "Full Nodes"
    enabled: true
    priority: -5
    set:
      replicaCount: $FULL_REPLICA
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  full-5:
    <<: *beeTemplate
    name: full-5
    description: "Full Nodes"
    enabled: true
    priority: -5
    set:
      replicaCount: $FULL_REPLICA
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  full-6:
    <<: *beeTemplate
    name: full-6
    description: "Full Nodes"
    enabled: true
    priority: -5
    set:
      replicaCount: $FULL_REPLICA
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  full-7:
    <<: *beeTemplate
    name: full-7
    description: "Full Nodes"
    enabled: true
    priority: -5
    set:
      replicaCount: $FULL_REPLICA
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  full-8:
    <<: *beeTemplate
    name: full-8
    description: "Full Nodes"
    enabled: true
    priority: -5
    set:
      replicaCount: $FULL_REPLICA
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  full-9:
    <<: *beeTemplate
    name: full-9
    description: "Full Nodes"
    enabled: true
    priority: -5
    set:
      replicaCount: $FULL_REPLICA
      beeConfig.full-node: true
      image.repository: $REPOSITORY
      image.tag: $TAG
      ingress.hosts[0].domain: "$NAMESPACE.testnet.internal"
      ingressDebug.hosts[0].domain: "$NAMESPACE.testnet.internal"
      serviceAccount.create: true
      beeConfig.bootnode: "/dns4/bootnode-bee-0-headless.$NAMESPACE.svc.cluster.local/tcp/1634/p2p/QmaHzvd3iZduu275CMkMVZKwbsjXSyH3GJRj4UvFJApKcb"
  beekeeper-load-test:
    name: beekeeper-load-test
    namespace: $NAMESPACE
    chart: "ethersphere/beekeeper"
    version: "0.4.3"
    description: "A Helm chart for beekeeper"
    enabled: true
    priority: -2
    valuesFiles:
      - "../helm-values/beekeeper-load-test.yaml"
    set:
      image.repository: ethersphere/beekeeper
      image.tag: 0.12.2
    wait: false
    timeout: 900
  beekeeper-smoke-test:
    name: beekeeper-smoke-test
    namespace: $NAMESPACE
    chart: "ethersphere/beekeeper"
    version: "0.4.3"
    description: "A Helm chart for beekeeper"
    enabled: true
    priority: -2
    valuesFiles:
      - "../helm-values/beekeeper-smoke-test.yaml"
    set:
      image.repository: ethersphere/beekeeper
      image.tag: 0.12.2
    wait: false
    timeout: 900
